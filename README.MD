# ğŸ§ª Cypress API Testing for DummyJSON

This project contains end-to-end API tests for the [DummyJSON](https://dummyjson.com) fake REST API using **Cypress + TypeScript**. It covers various endpoints related to `/products`, including searching, sorting, filtering by category, and full CRUD operations.

---

## ğŸš€ Features

- âœ… GET `/products` - list, pagination, sorting, ordering
- ğŸ” GET `/products/search` - search by keyword
- ğŸ”¢ GET `/products/:id` - validation and edge cases
- ğŸ“¦ GET `/products/categories` - list of categories
- ğŸ“‚ GET `/products/category/:category` - category filtering
- âœï¸ POST, PUT, PATCH, DELETE `/products` - full CRUD testing
- ğŸ§° Modular helper methods in POM-style (`/api` folder)
- ğŸ” TypeScript typings for Product entity

---

## ğŸ› ï¸ Getting Started

### 1. Clone the repo

```bash
git clone https://github.com/your-username/dummyjson-api-tests.git
cd dummyjson-api-tests
```

### 2. Install dependencies

```bash
npm install
```

### 3. Run tests (all)

```bash
npx cypress run
```

### 4. Run tests in UI mode

```bash
npx cypress open
```

### 5. Run a specific file

To run only the tests from a specific file (e.g., `categories.cy.ts`):

```bash
npx cypress run --spec "cypress/e2e/categories.cy.ts"
```

Or via the Cypress UI by selecting the file manually.

---

## ğŸ§± Project Structure

```
.
â”œâ”€â”€ cypress/
â”‚   â”œâ”€â”€ e2e/
â”‚   â”‚   â”œâ”€â”€ products.cy.ts
â”‚   â”‚   â”œâ”€â”€ search.cy.ts
â”‚   â”‚   â”œâ”€â”€ categories.cy.ts
â”‚   â”‚   â”œâ”€â”€ crud.cy.ts
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ products.ts   # POM-style reusable methods
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ product.ts    # Type definitions
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ cypress.config.ts
â”œâ”€â”€ README.md
```

---

## âš ï¸ Known Issue: Sorting by Title in Ascending Order

### Problem

When testing the endpoint `GET /products` with the query parameters `sortBy=title&order=asc`, the test might fail even though the API returns correctly sorted data.

### Example Failure

```
AssertionError: expected -1 to be at least 0
```

### Cause

JavaScriptâ€™s `localeCompare()` method is case-sensitive by default. This means titles like `"Apple"` and `"airpods"` may be evaluated in the wrong order due to their letter casing â€” capital letters are treated as lower in order than lowercase ones in Unicode comparison.

### Solution in Tests

To fix this issue and make comparisons consistent, convert both titles to lowercase before comparing:

```ts
for (let i = 1; i < products.length; i++) {
  expect(
    products[i].title
      .toLowerCase()
      .localeCompare(products[i - 1].title.toLowerCase()),
  ).to.be.at.least(0);
}
```

### Why It Matters

Without adjusting for casing, the test will throw false negatives even when the API works as expected. Normalizing the casing ensures the test reflects real-world alphabetical expectations.

---

## ğŸ“¬ Feedback & Contributions

Feel free to open issues or pull requests for improvements, ideas, or bug fixes.

---

## ğŸ“„ License

This project is open-source and free to use under the [MIT License](LICENSE).
